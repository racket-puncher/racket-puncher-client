(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{4238:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return PostMatching}});var a=n(9499),r=n(7294),i=n(5121),l=n(1150),c=n(6310),o=n(7533),s=n(7536),d=n(3281),u=n(8633),h=n(528),p=n(9630),m=n(7396),x=n(3162),g=n(8381),j=n(546),b=n(2319),f=n(2361),_=n(846),S=n(9970),v=n(5893);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=c.Ry().shape({postTitle:c.Z_().required("제목을 입력해주세요."),matchType:c.Z_().required("경기 유형을 선택해주세요."),numOfRecruited:c.Rx().required("모집 인원수를 선택해주세요."),selectedAge:c.Z_().required("모집 연령대를 선택해주세요."),selectedNTRP:c.Z_().required("모집할 NTRP를 선택해주세요."),matchDate:c.Z_().required("경기 날짜를 선택해주세요."),matchStartTime:c.Z_().required("경기 시작 시간을 선택해주세요."),matchEndTime:c.Z_().required("경기 종료 시간을 선택해주세요."),deadlineDate:c.Z_().required("모집 마감일을 선택해주세요."),deadlineTime:c.Z_().required("모집 마감 시간을 선택해주세요."),courtAddress:c.Z_().required("경기장 주소를 입력해주세요."),isCourtBooked:c.O7().required("경기장 예약 여부를 선택해주세요."),courtFee:c.Rx().required("경기장 대여료를 입력해주세요. (무료일 경우 0을 입력해주세요.)"),courtPhoto:c.Z_(),mainText:c.Z_().required("본문 내용을 입력해주세요.")});function PostMatching(){var e=(0,s.cI)({resolver:(0,o.X)(y)}),t=e.register,n=(e.handleSubmit,e.setValue),a=e.watch;e.formState.errors;var l=(0,r.useState)(""),c=l[0],d=l[1],u=(0,r.useState)([{value:1,label:"경기 유형을 먼저 선택해주세요."}]),m=u[0],j=u[1],D=(0,r.useState)(0),A=D[0],I=D[1],selectMatchType=function(e){d(e),e.includes("단식")?j([{value:1,label:"1 명"}]):j([{value:1,label:"1 명"},{value:2,label:"2 명"},{value:3,label:"3 명"}])},R=(0,r.useState)(""),k=R[0];R[1];var q=(0,r.useState)(""),B=q[0],W=q[1],E=(0,r.useState)(""),M=E[0],K=E[1],X=(0,r.useState)(null),z=X[0],H=X[1],$=(0,r.useState)(""),G=$[0],J=$[1],L=(0,r.useState)(""),U=L[0],V=L[1],Y=(0,r.useState)(null),Q=Y[0],ee=Y[1],et=(0,r.useState)(""),en=et[0],ea=et[1],er=(0,r.useState)(""),ei=er[0],el=er[1],ec=(0,r.useState)(null),eo=ec[0],es=ec[1],ed=(0,r.useState)(0),eu=ed[0];ed[1];var eh=(0,r.useState)(1),ep=eh[0],em=eh[1],ex=(0,r.useState)(0),eg=ex[0],ej=ex[1],eb=(0,r.useState)(null),ef=eb[0],e_=eb[1],eS=(0,r.useState)(""),ev=eS[0];eS[1];var ey=(0,r.useRef)(null),eT=(0,r.useState)(!1),ew=eT[0],eO=eT[1];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(S.Z,{isOpen:ew,toggleDrawer:function(){return eO(function(e){return!e})},setState:el}),(0,v.jsx)(T,{children:(0,v.jsx)(h.B,{children:"매칭 글 등록"})}),(0,v.jsxs)(w,{onSubmit:function(e){e.preventDefault();var t={title:"".concat(k),matchType:"".concat(c),recruitNum:"".concat(A),ageGroup:"".concat(B),ntrp:"".concat(M),matchingDate:"".concat(z),matchingStartTime:"".concat(G),matchingEndTime:"".concat(U),recruitDueDate:"".concat(Q.getFullYear(),"-").concat(Q.getMonth(),"-").concat(Q.getDate()),recruitDueTime:"".concat(en),location:"".concat(ei),lat:"위도",len:"경도",isReserved:"".concat(eo),cost:"".concat(eu),locationImg:"".concat(ef),content:"".concat(ev)};console.log(t),i.Z.post("http://3.38.50.101:8080/api/matches",JSON.stringify(t)).then(function(){return console.log("포스트됨")}).catch(function(e){return console.log(e)})},children:[(0,v.jsxs)(p.W,{children:[(0,v.jsx)("label",{htmlFor:"postTitle",children:"제목"}),(0,v.jsx)("input",_objectSpread(_objectSpread({id:"postTitle",type:"text"},t("postTitle")),{},{onChange:function(e){return n("postTitle",e.target.value)}}))]}),(0,v.jsxs)(O,{children:[(0,v.jsxs)(p.W,{children:[(0,v.jsx)("label",{htmlFor:"matchType",children:"경기 유형"}),(0,v.jsx)(x.A,_objectSpread(_objectSpread({id:"matchType",options:[{value:"단식",label:"단식"},{value:"혼성 단식",label:"혼성 단식"},{value:"복식",label:"복식"},{value:"혼성 복식",label:"혼성 복식"}]},t("matchType")),{},{onSelect:function(e){selectMatchType(e),em(e.includes("단")?2:4)}}))]}),(0,v.jsxs)(p.W,{children:[(0,v.jsx)("label",{htmlFor:"numOfRecruited",children:"모집 인원"}),(0,v.jsx)(x.A,{id:"numOfRecruited",options:m,onSelect:function(e){return I(e)}})]})]}),(0,v.jsxs)(O,{children:[(0,v.jsxs)(p.W,{children:[(0,v.jsx)("label",{htmlFor:"selectedAge",children:"모집 연령대"}),(0,v.jsx)(x.A,{id:"selectedAge",options:[{value:"10대",label:"10대"},{value:"20대",label:"20대"},{value:"30대",label:"30대"},{value:"40대",label:"40대"},{value:"50대",label:"50대"},{value:"60대",label:"60대"}],onSelect:function(e){return W(e)}})]}),(0,v.jsxs)(p.W,{children:[(0,v.jsx)("label",{htmlFor:"selectedNTRP",children:"모집 NTRP"}),(0,v.jsx)(x.A,_objectSpread(_objectSpread({id:"selectedNTRP",options:[{value:"NewBie",label:"NewBie (1.0 ~ 2.0)"},{value:"Beginner",label:"Beginner (2.5 ~ 3.5)"},{value:"Intermediate",label:"Intermediate (4.0 ~ 4.5)"},{value:"Intermediate",label:"Advanced (5.0 ~ 5.5)"},{value:"Pro",label:"Pro (6.0 ~ 7.0)"}]},t("selectedNTRP")),{},{onSelect:function(e){K(e)}}))]})]}),(0,v.jsxs)(p.W,{children:[(0,v.jsx)("label",{htmlFor:"matchDate",children:"경기일"}),(0,v.jsx)(b.Z,{id:"matchDate",setState:H})]}),(0,v.jsxs)(O,{children:[(0,v.jsxs)(p.W,{children:[(0,v.jsx)("label",{htmlFor:"matchStartTime",children:"시작 시간"}),(0,v.jsx)(f.Z,{id:"matchStartTime",setState:J,type:[!0,!0]})]}),(0,v.jsxs)(p.W,{children:[(0,v.jsx)("label",{htmlFor:"matchEndTime",children:"종료 시간"}),(0,v.jsx)(f.Z,{id:"matchEndTime",setState:V,type:[!0,!0]})]})]}),(0,v.jsxs)(p.W,{children:[(0,v.jsx)("label",{htmlFor:"deadline",children:"모집 마감 기한"}),(0,v.jsxs)(O,{children:[(0,v.jsx)(b.Z,{id:"deadlineDate",setState:ee,matchDate:z,type:[!0,!0,!0]}),(0,v.jsx)(f.Z,{id:"deadlineTime",setState:ea,type:[!0,!1]})]})]}),(0,v.jsxs)(p.W,{children:[(0,v.jsx)("label",{htmlFor:"courtAddress",children:"경기장 주소"}),(0,v.jsx)("input",_objectSpread(_objectSpread({type:"text",id:"courtAddress",value:ei},t("courtAddress")),{},{onClick:function(e){e.preventDefault(),eO(!0)},readOnly:!0}))]}),(0,v.jsx)(O,{children:(0,v.jsxs)(p.W,{children:[(0,v.jsx)("label",{htmlFor:"isCourtBooked",children:"경기장 예약 여부"}),(0,v.jsx)(_.Z,_objectSpread({id:"isCourtBooked",setState:es},t("isCourtBooked")))]})}),(0,v.jsxs)(P,{children:[(0,v.jsxs)(Z,{children:["1인당 ",Number.isInteger(eg)?"".concat(eg):"-"," 원"]}),(0,v.jsxs)(p.W,{children:[(0,v.jsx)("label",{htmlFor:"courtFee",children:"구장 대여비"}),(0,v.jsx)("input",_objectSpread(_objectSpread({type:"text",id:"courtFee",className:"text-align-right",pattern:"^[0-9]+$"},t("courtFee")),{},{onChange:function(e){n("courtFee",Number(e.target.value)),ej(Math.round(Number(e.target.value)/ep))},onClick:function(){[2,4].filter(function(e){return e===ep}).length&&alert("경기 유형을 먼저 선택해주세요!")}}))]})]}),(0,v.jsxs)(p.W,{children:[(0,v.jsx)("label",{htmlFor:"courtPhoto",children:"경기장 이미지"}),(0,v.jsxs)(N,{onClick:function(){ey.current&&ey.current.click()},children:[(0,v.jsx)(g.F,{width:"580px",height:"380px",children:(0,v.jsx)("img",{src:ef||"/images/add-image-rectangle-00.png",alt:"경기장 이미지"})}),(0,v.jsx)("input",{id:"courtPhoto",type:"file",style:{display:"none"},ref:ey,onChange:function(e){var t=e.target.files;if(t&&t.length>0){var n=t[0],a=new FileReader;a.readAsDataURL(n),a.onloadend=function(){e_(a.result)},console.log(a)}},accept:"image/*"})]})]}),(0,v.jsxs)(p.W,{children:[(0,v.jsx)("label",{htmlFor:"mainText",children:"본문 내용"}),(0,v.jsx)(C,_objectSpread({id:"mainText",onChange:function(e){return n("mainText",e.target.value)},placeholder:"내용을 입력하세요."},t("mainText")))]}),(0,v.jsx)(F,{colorstyle:"is-black",type:"submit",disabled:!(a("postTitle")&&a("matchType")&&a("numOfRecruited")&&a("selectedAge")&&a("selectedNTRP")&&a("matchDate")&&a("matchStartTime")&&a("matchEndTime")&&a("deadlineDate")&&a("deadlineTime")&&a("courtAddress")&&a("isCourtBooked")&&a("courtFee")&&a("courtPhoto")&&a("mainText")),children:"등록하기"})]})]})}var T=l.ZP.div.withConfig({displayName:"post-matching__PageTitleArea",componentId:"sc-1gjxgpn-0"})(["margin:"," auto;"],(0,d.hO)("50px")),w=l.ZP.form.withConfig({displayName:"post-matching__PostMatchingForm",componentId:"sc-1gjxgpn-1"})(["display:flex;flex-direction:column;.input__InputBox-sc-w6l3ed-0{.text-align-right{text-align:right;}.select__CustomSelect-sc-10zdv74-0{margin-bottom:0px;}}"]),O=l.ZP.div.withConfig({displayName:"post-matching__HalfContainer",componentId:"sc-1gjxgpn-2"})(["display:flex;flex-direction:row;gap:",";.input__InputBox-sc-w6l3ed-0{width:100%;.text-align-right{text-align:right;}.select__CustomSelect-sc-10zdv74-0{margin-bottom:0px;}}"],(0,d.hO)("20px")),P=l.ZP.div.withConfig({displayName:"post-matching__CourtFeeArea",componentId:"sc-1gjxgpn-3"})(["position:relative;width:100%;"]),Z=l.ZP.span.withConfig({displayName:"post-matching__FeeForEachSpan",componentId:"sc-1gjxgpn-4"})(["position:absolute;top:",";right:",";max-width:",";white-space:nowrap;overflow:hidden;font-family:",";color:",";"],(0,d.hO)("3px"),(0,d.hO)("5px"),(0,d.hO)("150px"),u.bH,u.Ie),F=(0,l.ZP)(m.h$).withConfig({displayName:"post-matching__SubmitBtn",componentId:"sc-1gjxgpn-5"})(["margin:"," 0px;"],(0,d.hO)("30px")),N=l.ZP.div.withConfig({displayName:"post-matching__ImageSection",componentId:"sc-1gjxgpn-6"})(["display:flex;justify-content:center;cursor:pointer;width:100%;height:100%;max-width:",";max-height:",";border:none;img{border-radius:5px;border:1px solid ",";background:",";overflow:hidden;}"],(0,d.hO)("580px"),(0,d.hO)("380px"),u.B_,u._2),C=(0,l.ZP)(j.K).withConfig({displayName:"post-matching__MainTextArea",componentId:"sc-1gjxgpn-7"})(["max-width:",";height:",";"],(0,d.hO)("580px"),(0,d.hO)("380px"))},3289:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/post-matching",function(){return n(4238)}])}},function(e){e.O(0,[885,536,184,228,333,791,216,121,160,909,774,888,179],function(){return e(e.s=3289)}),_N_E=e.O()}]);