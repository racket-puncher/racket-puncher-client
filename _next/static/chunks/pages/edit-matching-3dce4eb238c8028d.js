(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[607],{5219:function(e,t,a){"use strict";a.d(t,{Z:function(){return Selector}}),a(7294);var n=a(3162),i=a(5893);function Selector(e){var t=e.idString,a=e.options,r=e.value,l=e.disabled,o=e.defaultValue,c=e.onChangeHandler;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(n.A,{id:t,value:r,options:a,defaultValue:o,onChange:c,disabled:l})})}},4013:function(e,t,a){"use strict";a.d(t,{G_:function(){return r},IF:function(){return i},P3:function(){return n},Xf:function(){return l}});var n=[{value:"MALE",label:"남자"},{value:"FEMALE",label:"여자"}],i=[{value:"TWENTIES",label:"20대"},{value:"THIRTIES",label:"30대"},{value:"FORTIES",label:"40대"},{value:"SENIOR",label:"50대이상"}],r=[{value:"DEVELOPMENT",label:"Development (1.0 ~ 2.0)"},{value:"BEGINNER",label:"Beginner (2.5 ~ 3.5)"},{value:"INTERMEDIATE",label:"Intermediate (4.0 ~ 4.5)"},{value:"ADVANCED",label:"Advanced (5.0 ~ 5.5)"},{value:"PRO",label:"Pro (6.0 ~ 7.0)"}],l=[{value:"SINGLE",label:"단식"},{value:"DOUBLE",label:"복식"},{value:"MIXED_DOUBLE",label:"혼성 복식"},{value:"OTHER",label:"기타"}]},5002:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return EditMatching}});var n=a(9499),i=a(29),r=a(7794),l=a.n(r),o=a(7294),c=a(7903),d=a(6310),s=a(7533),u=a(7536),h=a(1150),m=a(3281),p=a(8633),g=a(528),x=a(9630),b=a(7396),f=a(8381),j=a(546),v=a(2319),_=a(2361),T=a(846),S=a(5219),y=a(9970),O=a(2268),E=a(5121),w=a(8031),D=a(4013),I=a(7820),N=a(9787),Z=a(5893);function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach(function(t){(0,n.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var F=d.Ry().shape({postTitle:d.Z_().required("제목을 입력해주세요."),matchType:d.Z_().required("경기 유형을 선택해주세요."),numOfRecruited:d.Rx().required("모집 인원수를 선택해주세요."),selectedAge:d.Z_().required("모집 연령대를 선택해주세요."),selectedNTRP:d.Z_().required("모집할 NTRP를 선택해주세요."),matchDate:d.Z_().required("경기 날짜를 선택해주세요."),matchStartTime:d.Z_().required("경기 시작 시간을 선택해주세요."),matchEndTime:d.Z_().required("경기 종료 시간을 선택해주세요."),deadlineDate:d.Z_().required("모집 마감일을 선택해주세요."),deadlineTime:d.Z_().required("모집 마감 시간을 선택해주세요."),address:d.Z_().required("경기장 주소를 입력해주세요."),isCourtBooked:d.O7().required("경기장 예약 여부를 선택해주세요."),courtFee:d.Rx().required("경기장 대여료를 입력해주세요. (무료일 경우 0을 입력해주세요.)").min(0),locationImg:d.Z_(),mainText:d.Z_().required("본문 내용을 입력해주세요.")});function EditMatching(e){var t,a,n,r,d,h,m,b,j,q,L=(0,u.cI)({resolver:(0,s.X)(F)}),H=L.register,G=(L.handleSubmit,L.setValue),X=L.getValues,K=(L.watch,L.formState.errors),z=(0,w.Z)().setMessage,U=(0,O.Z)().moveToBack,$=(0,o.useState)(null),J=$[0],Q=$[1],Y=(0,o.useState)({address:"",lat:"",lon:""}),ee=Y[0],et=Y[1],ea=(0,o.useState)(1),en=ea[0],ei=ea[1],er=(0,o.useState)(null);er[0],er[1];var el=(0,o.useState)([{value:X("numOfRecruited"),label:"-"}]),eo=el[0],ec=el[1];(0,o.useEffect)(function(){var e;(e=(0,i.Z)(l().mark(function _callee(){var e;return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.Z.get("http://3.38.50.101:8080/api/matches/1");case 3:Q(e=t.sent.data.response),G("postTitle",e.title),G("matchType",e.matchingType),G("numOfRecruited",e.recruitNum),G("selectedAge",e.ageGroup),G("selectedNTRP",e.ntrp),G("matchDate",e.date),G("matchStartTime",e.startTime),G("matchEndTime",e.endTime),G("deadlineDate",e.recruitDueDate),G("deadlineTime",e.recruitDueTime),G("address",e.location),G("isCourtBooked",e.isReserved),G("courtFee",e.cost),G("locationImg",e.locationImg),G("mainText",e.content),console.log(e),et(_objectSpread(_objectSpread({},ee),{},{lat:e.lat,lon:e.lon})),ei("SINGLE"===e.matchingType?2:4),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(0),console.log(t.t0);case 29:case"end":return t.stop()}},_callee,null,[[0,26]])})),function(){return e.apply(this,arguments)})(),console.log(J)},[]);var selectHandler=function(e){e.includes("SINGLE")?ec([{value:1,label:"1 명"}]):ec([{value:1,label:"1 명"},{value:2,label:"2 명"},{value:3,label:"3 명"}])},ed=(0,o.useRef)(null),es=(0,o.useState)(null),eu=es[0],eh=es[1],em=(0,o.useState)(null),ep=em[0],eg=em[1],ex={backgroundImage:"url(".concat(ep,")"),border:"1px solid ".concat(p.B_),borderRadius:"5px",height:"100%",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},eb=(0,o.useState)(!1),ef=eb[0],ej=eb[1],ev=(t=(0,i.Z)(l().mark(function _callee2(e){var t,a,n;return l().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e.preventDefault(),ep){i.next=4;break}return z("error","이미지를 추가해주세요."),i.abrupt("return");case 4:return console.log(t=_objectSpread(_objectSpread({},J),{},{title:X("postTitle"),matchingType:X("matchType"),recruitNum:X("numOfRecruited"),ageGroup:X("selectedAge"),ntrp:X("selectedNTRP"),matchingDate:X("matchDate"),matchingStartTime:X("matchStartTime"),matchingEndTime:X("matchEndTime"),recruitDueDate:X("deadlineDate"),recruitDueTime:X("deadlineTime"),location:X("address"),lat:"".concat(ee.lat),lon:"".concat(ee.lon),isReserved:X("isCourtBooked"),cost:X("courtFee"),locationImg:X("locationImg"),content:X("mainText")})),i.prev=6,(a=new FormData).append("imageFile",eu),i.next=11,c.Z.uploadMatchingImage("1",a);case 11:n=i.sent,c.Z.modifyMatchingList("1",_objectSpread(_objectSpread({},t),{},{locationImg:n.data.response})),i.next=18;break;case 15:i.prev=15,i.t0=i.catch(6),console.log(i.t0);case 18:c.Z.modifyMatchingList("1",t).then(function(){return console.log("수정됨")}).catch(function(e){return console.log(e)});case 19:case"end":return i.stop()}},_callee2,null,[[6,15]])})),function(e){return t.apply(this,arguments)});return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(y.Z,{isOpen:ef,toggleDrawer:function(){return ej(function(e){return!e})},setValue:G,setCourtInfos:et}),(0,Z.jsx)(P,{children:(0,Z.jsx)(g.B,{children:"매칭 글 수정"})}),(0,Z.jsxs)(R,{onSubmit:ev,children:[(0,Z.jsxs)(x.W,{children:[(0,Z.jsx)("label",{htmlFor:"postTitle",children:"제목"}),(0,Z.jsx)("input",_objectSpread(_objectSpread({id:"postTitle",type:"text"},H("postTitle")),{},{onChange:function(e){return G("postTitle",e.target.value)}})),(null===(a=K.postTitle)||void 0===a?void 0:a.message)&&(0,Z.jsx)(I.x,{children:K.postTitle.message})]}),(0,Z.jsxs)(k,{children:[(0,Z.jsxs)(x.W,{children:[(0,Z.jsx)("label",{htmlFor:"matchType",children:"경기 유형"}),(0,Z.jsx)(S.Z,_objectSpread(_objectSpread({idString:"matchType",options:D.Xf,value:X("matchType")},H("matchType")),{},{onChangeHandler:function(e){var t=e+"";G("matchType",t),ei("SINGLE"===t?2:4),selectHandler(t)}}))]}),(0,Z.jsxs)(x.W,{children:[(0,Z.jsx)("label",{htmlFor:"numOfRecruited",children:"모집 인원"}),(0,Z.jsx)(S.Z,_objectSpread(_objectSpread({idString:"numOfRecruited",options:eo,value:X("numOfRecruited")},H("numOfRecruited")),{},{onChangeHandler:function(e){return G("numOfRecruited",e)}}))]})]}),(0,Z.jsxs)(k,{children:[(0,Z.jsxs)(x.W,{children:[(0,Z.jsx)("label",{htmlFor:"selectedAge",children:"모집 연령대"}),(0,Z.jsx)(S.Z,_objectSpread(_objectSpread({idString:"selectedAge",options:D.IF},H("selectedAge")),{},{onChangeHandler:function(e){return G("selectedAge",e)},value:X("selectedAge")}))]}),(0,Z.jsxs)(x.W,{children:[(0,Z.jsx)("label",{htmlFor:"selectedNTRP",children:"모집 NTRP"}),(0,Z.jsx)(S.Z,_objectSpread(_objectSpread({idString:"selectedNTRP",options:[{value:"DEVELOPMENT",label:"NewBie (1.0 ~ 2.0)"},{value:"BEGINNER",label:"Beginner (2.5 ~ 3.5)"},{value:"INTERMEDIATE",label:"Intermediate (4.0 ~ 4.5)"},{value:"ADVANCED",label:"Advanced (5.0 ~ 5.5)"},{value:"PRO",label:"Pro (6.0 ~ 7.0)"}]},H("selectedNTRP")),{},{value:X("selectedNTRP"),onChangeHandler:function(e){G("selectedNTRP",e)}}))]})]}),(0,Z.jsxs)(x.W,{children:[(0,Z.jsx)("label",{htmlFor:"matchDate",children:"경기 날짜"}),(0,Z.jsx)(v.Z,{name:"matchDate",setState:G,defaultValue:X("matchDate")}),(0,Z.jsx)(W,_objectSpread(_objectSpread({type:"text",id:"matchDate",value:"".concat(X("matchDate"))},H("matchDate")),{},{readOnly:!0})),(null===(n=K.matchDate)||void 0===n?void 0:n.message)&&(0,Z.jsx)(I.x,{children:K.matchDate.message})]}),(0,Z.jsxs)(k,{children:[(0,Z.jsxs)(x.W,{children:[(0,Z.jsx)("label",{htmlFor:"matchStartTime",children:"시작 시간"}),(0,Z.jsx)(_.Z,{name:"matchStartTime",setState:G,type:[!0,!0],defaultValue:X("matchStartTime")}),(0,Z.jsx)(W,_objectSpread(_objectSpread({type:"text",id:"matchStartTime"},H("matchStartTime")),{},{readOnly:!0})),(null===(r=K.matchStartTime)||void 0===r?void 0:r.message)&&(0,Z.jsx)(I.x,{children:K.matchStartTime.message})]}),(0,Z.jsxs)(x.W,{children:[(0,Z.jsx)("label",{htmlFor:"matchEndTime",children:"종료 시간"}),(0,Z.jsx)(_.Z,{name:"matchEndTime",setState:G,type:[!0,!0],defaultValue:X("matchEndTime")}),(0,Z.jsx)(W,_objectSpread(_objectSpread({type:"text",id:"matchEndTime"},H("matchEndTime")),{},{readOnly:!0})),(null===(d=K.matchEndTime)||void 0===d?void 0:d.message)&&(0,Z.jsx)(I.x,{children:K.matchEndTime.message})]})]}),(0,Z.jsxs)(x.W,{children:[(0,Z.jsx)("label",{htmlFor:"deadlineDnT",children:"모집 마감 기한"}),(0,Z.jsxs)(k,{children:[(0,Z.jsx)(v.Z,{name:"deadlineDate",setState:G,defaultValue:X("deadlineDate"),type:[!0,!0,!0]}),(0,Z.jsx)(W,_objectSpread(_objectSpread({id:"deadlineDate"},H("deadlineDate")),{},{readOnly:!0,onChange:function(e){G("deadlineDate",e.target.value),console.log(X("deadlineDate"))}})),(null===(h=K.deadlineDate)||void 0===h?void 0:h.message)&&(0,Z.jsx)(I.x,{children:K.deadlineDate.message}),(0,Z.jsx)(_.Z,{name:"deadlineTime",setState:G,type:[!0,!1],defaultValue:X("deadlineTime")}),(0,Z.jsx)(W,_objectSpread({id:"deadlineTime"},H("deadlineTime"))),(null===(m=K.deadlineTime)||void 0===m?void 0:m.message)&&(0,Z.jsx)(I.x,{children:K.deadlineTime.message})]})]}),(0,Z.jsxs)(x.W,{children:[(0,Z.jsx)("label",{htmlFor:"address",children:"경기장 주소"}),(0,Z.jsx)("input",_objectSpread(_objectSpread({type:"text",id:"address",value:X("address")},H("address")),{},{onClick:function(e){e.preventDefault(),ej(!0)},readOnly:!0})),(null===(b=K.address)||void 0===b?void 0:b.message)&&(0,Z.jsx)(I.x,{children:K.address.message})]}),(0,Z.jsx)(k,{children:(0,Z.jsxs)(x.W,{children:[(0,Z.jsx)("label",{htmlFor:"isCourtBooked",children:"경기장 예약 여부"}),(0,Z.jsx)(T.Z,_objectSpread({idString:"isCourtBooked",setState:G,defaultValue:X("isCourtBooked")},H("isCourtBooked")))]})}),(0,Z.jsxs)(C,{children:[(0,Z.jsxs)(A,{children:["1인당"," ",Number.isInteger(X("courtFee")/en)?"".concat(X("courtFee")/en):"-"," ","원"]}),(0,Z.jsxs)(x.W,{children:[(0,Z.jsx)("label",{htmlFor:"courtFee",children:"구장 대여비"}),(0,Z.jsx)("input",_objectSpread(_objectSpread({type:"number",id:"courtFee",className:"text-align-right",pattern:"^[0-9]+$",defaultValue:X("courtFee")},H("courtFee")),{},{onChange:function(e){return G("courtFee",parseInt(e.target.value))},onClick:function(){1===en&&z("warning","경기 유형을 먼저 선택해주세요!")}}))]}),(null===(j=K.courtFee)||void 0===j?void 0:j.message)&&(0,Z.jsx)(I.x,{children:K.courtFee.message})]}),(0,Z.jsxs)(x.W,{children:[(0,Z.jsx)("label",{htmlFor:"courtPhoto",children:"경기장 이미지"}),(0,Z.jsxs)(V,{onClick:function(){ed.current&&ed.current.click()},children:[(0,Z.jsx)(f.F,{width:"620px",height:"400px",children:ep?(0,Z.jsx)("div",{className:"img-align-box",style:ex}):(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("img",{src:"".concat(N.O,"/images/add-image-rectangle-00.png"),alt:"add-image"})})}),(0,Z.jsx)("input",{id:"courtPhoto",type:"file",style:{display:"none"},ref:ed,onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onload=function(e){eg(e.target.result)},eh(t),a.readAsDataURL(t)},accept:"image/*"})]})]}),(0,Z.jsxs)(x.W,{children:[(0,Z.jsx)("label",{htmlFor:"mainText",children:"본문 내용"}),(0,Z.jsx)(M,_objectSpread({id:"mainText",onChange:function(e){return G("mainText",e.target.value)},placeholder:"내용을 입력하세요."},H("mainText")))," ",(null===(q=K.mainText)||void 0===q?void 0:q.message)&&(0,Z.jsx)(I.x,{children:K.mainText.message})]}),(0,Z.jsxs)(k,{children:[(0,Z.jsx)(B,{colorstyle:"is-black",type:"submit",children:"수정하기"}),(0,Z.jsx)(B,{colorstyle:"is-black",onClick:U,children:"취소"})]})]})]})}var P=h.ZP.div.withConfig({displayName:"edit-matching__PageTitleArea",componentId:"sc-12ugfkt-0"})(["margin:"," auto;"],(0,m.hO)("50px")),R=h.ZP.form.withConfig({displayName:"edit-matching__PostMatchingForm",componentId:"sc-12ugfkt-1"})(["display:flex;flex-direction:column;.input__InputBox-sc-w6l3ed-0{.text-align-right{text-align:right;}.select__CustomSelect-sc-10zdv74-0{margin-bottom:0px;}}"]),k=h.ZP.div.withConfig({displayName:"edit-matching__HalfContainer",componentId:"sc-12ugfkt-2"})(["display:flex;flex-direction:row;gap:",";.input__InputBox-sc-w6l3ed-0{width:100%;.text-align-right{text-align:right;}}* .buttonRadio__RadioButton-sc-b6o1nr-1,* .select__CustomSelect-sc-10zdv74-0{margin-bottom:0px;}"],(0,m.hO)("20px")),C=h.ZP.div.withConfig({displayName:"edit-matching__CourtFeeArea",componentId:"sc-12ugfkt-3"})(["position:relative;width:100%;"]),A=h.ZP.span.withConfig({displayName:"edit-matching__FeeForEachSpan",componentId:"sc-12ugfkt-4"})(["position:absolute;top:",";right:",";max-width:",";white-space:nowrap;overflow:hidden;font-family:",";color:",";"],(0,m.hO)("3px"),(0,m.hO)("5px"),(0,m.hO)("150px"),p.bH,p.Ie),B=(0,h.ZP)(b.h$).withConfig({displayName:"edit-matching__Buttons",componentId:"sc-12ugfkt-5"})(["margin:"," 0px;"],(0,m.hO)("30px")),V=h.ZP.div.withConfig({displayName:"edit-matching__ImageArea",componentId:"sc-12ugfkt-6"})(["display:flex;justify-content:center;cursor:pointer;width:100%;min-height:fit-content;max-width:",";max-height:",";border:none;margin-bottom:",";overflow:hidden;img{width:100%;max-height:",";border-radius:5px;border:1px solid ",";background:",";overflow:hidden;}div{max-height:",";overflow:hidden;}"],(0,m.hO)("620px"),(0,m.hO)("400px"),(0,m.hO)("30px"),(0,m.hO)("400px"),p.B_,p._2,(0,m.hO)("400px")),M=(0,h.ZP)(j.K).withConfig({displayName:"edit-matching__MainTextArea",componentId:"sc-12ugfkt-7"})(["max-width:",";height:",";"],(0,m.hO)("620px"),(0,m.hO)("400px")),W=h.ZP.input.withConfig({displayName:"edit-matching__HiddenInput",componentId:"sc-12ugfkt-8"})(["position:absolute;width:0px;height:0px;max-width:0px;max-height:0px;background-color:transparent;padding:0px;border:1px solid transparent;border-radius:0px;box-shadow:none;visibility:hidden;"])},4594:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit-matching",function(){return a(5002)}])}},function(e){e.O(0,[885,536,244,216,625,222,160,399,774,888,179],function(){return e(e.s=4594)}),_N_E=e.O()}]);