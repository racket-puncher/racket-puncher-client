(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[607],{5002:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return PostMatching}});var n=a(9499),i=a(7294),r=a(7903),l=a(6310),o=a(7533),c=a(7536),d=a(1150),s=a(3281),u=a(8633),h=a(528),m=a(9630),p=a(7396),x=a(3162),g=a(8381),j=a(546),b=a(2319),f=a(2361),_=a(846),S=a(9970),T=a(5893);function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach(function(t){(0,n.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function PostMatching(){var e=l.Ry().shape({postTitle:l.Z_().required("제목을 입력해주세요."),matchType:l.Z_().required("경기 유형을 선택해주세요."),numOfRecruited:l.Rx().required("모집 인원수를 선택해주세요."),selectedAge:l.Z_().required("모집 연령대를 선택해주세요."),selectedNTRP:l.Z_().required("모집할 NTRP를 선택해주세요."),matchDate:l.Z_().required("경기 날짜를 선택해주세요."),matchStartTime:l.Z_().required("경기 시작 시간을 선택해주세요."),matchEndTime:l.Z_().required("경기 종료 시간을 선택해주세요."),deadlineDate:l.Z_().required("모집 마감일을 선택해주세요."),deadlineTime:l.Z_().required("모집 마감 시간을 선택해주세요."),courtAddress:l.Z_().required("경기장 주소를 입력해주세요."),isCourtBooked:l.O7().required("경기장 예약 여부를 선택해주세요."),courtFee:l.Rx().required("경기장 대여료를 입력해주세요. (무료일 경우 0을 입력해주세요.)").min(0),locationImg:l.Z_(),mainText:l.Z_().required("본문 내용을 입력해주세요.")}),t=(0,c.cI)({resolver:(0,o.X)(e)}),a=t.register,n=(t.handleSubmit,t.setValue),d=t.getValues,s=t.watch;t.formState.errors;var u=(0,i.useState)([{value:null,label:"경기 유형을 먼저 선택해주세요."}]),p=u[0],j=u[1],selectHandler=function(e){e.includes("SINGLE")?j([{value:1,label:"1 명"}]):j([{value:1,label:"1 명"},{value:2,label:"2 명"},{value:3,label:"3 명"}])},C=(0,i.useState)(null),F=C[0];C[1];var Z=(0,i.useState)("");Z[0],Z[1];var R=(0,i.useState)("");R[0],R[1];var k=(0,i.useState)(""),A=k[0];k[1];var B=(0,i.useState)("");B[0],B[1];var W=(0,i.useState)({address:"",name:"",lat:"",len:""}),q=W[0],M=W[1],L=(0,i.useState)(1),G=L[0],H=L[1],X=(0,i.useState)(0),V=X[0],K=X[1],U=(0,i.useState)(null),z=U[0],$=U[1],J=(0,i.useRef)(null),Q=(0,i.useState)(!1),Y=Q[0],ee=Q[1];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(S.Z,{isOpen:Y,toggleDrawer:function(){return ee(function(e){return!e})},setCourtInfos:M,setAddress:n}),(0,T.jsx)(y,{children:(0,T.jsx)(h.B,{children:"매칭 글 등록"})}),(0,T.jsxs)(v,{onSubmit:function(e){e.preventDefault();var t={title:d("postTitle"),matchingType:d("matchType"),recruitNum:d("numOfRecruited"),ageGroup:d("selectedAge"),ntrp:d("selectedNTRP"),matchingDate:d("matchDate"),matchingStartTime:d("matchStartTime"),matchingEndTime:d("matchEndTime"),recruitDueDate:d("deadlineDate"),recruitDueTime:d("deadlineTime"),location:d("courtAddress"),lat:"".concat(q.lat),len:"".concat(q.len),isReserved:d("isCourtBooked"),cost:d("courtFee"),locationImg:d("locationImg"),content:d("mainText")};console.log(e),console.log(t),r.Z.regMatchingData(t).then(function(){return console.log("포스트됨")}).catch(function(e){return console.log(e)})},children:[(0,T.jsxs)(m.W,{children:[(0,T.jsx)("label",{htmlFor:"postTitle",children:"제목"}),(0,T.jsx)("input",_objectSpread(_objectSpread({id:"postTitle",type:"text"},a("postTitle")),{},{onChange:function(e){return n("postTitle",e.target.value)}}))]}),(0,T.jsxs)(O,{children:[(0,T.jsxs)(m.W,{children:[(0,T.jsx)("label",{htmlFor:"matchType",children:"경기 유형"}),(0,T.jsx)(x.A,_objectSpread(_objectSpread({id:"matchType",options:[{value:"SINGLE",label:"단식"},{value:"MIXED SINGLE",label:"혼성 단식"},{value:"DOUBLE",label:"복식"},{value:"MIXED DOUBLE",label:"혼성 복식"}]},a("matchType")),{},{onChange:function(e){var t=e+"";n("matchType",t),H(t.includes("SINGLE")?2:4),selectHandler(t)}}))]}),(0,T.jsxs)(m.W,{children:[(0,T.jsx)("label",{htmlFor:"numOfRecruited",children:"모집 인원"}),(0,T.jsx)(x.A,_objectSpread(_objectSpread({id:"numOfRecruited",options:p},a("numOfRecruited")),{},{onChange:function(e){return n("numOfRecruited",e)}}))]})]}),(0,T.jsxs)(O,{children:[(0,T.jsxs)(m.W,{children:[(0,T.jsx)("label",{htmlFor:"selectedAge",children:"모집 연령대"}),(0,T.jsx)(x.A,{id:"selectedAge",options:[{value:"TEENAGER",label:"10대"},{value:"TWENTIES",label:"20대"},{value:"THIRTIES",label:"30대"},{value:"FORTIES",label:"40대"},{value:"FIFTIES",label:"50대"},{value:"SIXTIES",label:"60대"}],onChange:function(e){return n("selectedAge",e)}})]}),(0,T.jsxs)(m.W,{children:[(0,T.jsx)("label",{htmlFor:"selectedNTRP",children:"모집 NTRP"}),(0,T.jsx)(x.A,_objectSpread(_objectSpread({id:"selectedNTRP",options:[{value:"DEVELOPMENT",label:"NewBie (1.0 ~ 2.0)"},{value:"BEGINNER",label:"Beginner (2.5 ~ 3.5)"},{value:"INTERMEDIATE",label:"Intermediate (4.0 ~ 4.5)"},{value:"ADVANCED",label:"Advanced (5.0 ~ 5.5)"},{value:"PRO",label:"Pro (6.0 ~ 7.0)"}]},a("selectedNTRP")),{},{onChange:function(e){n("selectedNTRP",e)}}))]})]}),(0,T.jsxs)(m.W,{children:[(0,T.jsx)("label",{htmlFor:"matchDate",children:"경기일"}),(0,T.jsx)(b.Z,{name:"matchDate",setState:n}),(0,T.jsx)(P,_objectSpread(_objectSpread({type:"text",id:"matchDate",value:"".concat(F)},a("matchDate")),{},{readOnly:!0}))]}),(0,T.jsxs)(O,{children:[(0,T.jsxs)(m.W,{children:[(0,T.jsx)("label",{htmlFor:"matchStartTime",children:"시작 시간"}),(0,T.jsx)(f.Z,{name:"matchStartTime",setState:n,type:[!0,!0]}),(0,T.jsx)(P,_objectSpread(_objectSpread({type:"text",id:"matchStartTime"},a("matchStartTime")),{},{readOnly:!0}))]}),(0,T.jsxs)(m.W,{children:[(0,T.jsx)("label",{htmlFor:"matchEndTime",children:"종료 시간"}),(0,T.jsx)(f.Z,{name:"matchEndTime",setState:n,type:[!0,!0]}),(0,T.jsx)(P,_objectSpread(_objectSpread({type:"text",id:"matchEndTime"},a("matchEndTime")),{},{readOnly:!0}))]})]}),(0,T.jsxs)(m.W,{children:[(0,T.jsx)("label",{htmlFor:"deadlineDnT",children:"모집 마감 기한"}),(0,T.jsxs)(O,{children:[(0,T.jsx)(b.Z,{name:"deadlineDate",setState:n,matchDate:"".concat(A),type:[!0,!0,!0]}),(0,T.jsx)(P,_objectSpread(_objectSpread({type:"text",id:"deadlineDate"},a("deadlineDate")),{},{readOnly:!0,onChange:function(e){n("deadlineDate",e.target.value),console.log(d("deadlineDate"))}})),(0,T.jsx)(f.Z,{name:"deadlineTime",setState:n,type:[!0,!1]}),(0,T.jsx)(P,_objectSpread(_objectSpread({type:"text",id:"deadlineTime"},a("deadlineTime")),{},{readOnly:!0}))]})]}),(0,T.jsxs)(m.W,{children:[(0,T.jsx)("label",{htmlFor:"courtAddress",children:"경기장 주소"}),(0,T.jsx)("input",_objectSpread(_objectSpread({type:"text",id:"courtAddress",defaultValue:"",value:"".concat(q.address)+"".concat(q.name)},a("courtAddress")),{},{onClick:function(e){e.preventDefault(),ee(!0)},readOnly:!0}))]}),(0,T.jsx)(O,{children:(0,T.jsxs)(m.W,{children:[(0,T.jsx)("label",{htmlFor:"isCourtBooked",children:"경기장 예약 여부"}),(0,T.jsx)(_.Z,_objectSpread({id:"isCourtBooked",setState:n},a("isCourtBooked")))]})}),(0,T.jsxs)(w,{children:[(0,T.jsxs)(E,{children:["1인당 ",Number.isInteger(V)?"".concat(V):"-"," 원"]}),(0,T.jsxs)(m.W,{children:[(0,T.jsx)("label",{htmlFor:"courtFee",children:"구장 대여비"}),(0,T.jsx)("input",_objectSpread(_objectSpread({type:"text",id:"courtFee",className:"text-align-right",pattern:"^[0-9]+$"},a("courtFee")),{},{onChange:function(e){n("courtFee",Number(e.target.value)),K(Math.round(Number(e.target.value)/G))}}))]})]}),(0,T.jsxs)(m.W,{children:[(0,T.jsx)("label",{htmlFor:"courtPhoto",children:"경기장 이미지"}),(0,T.jsxs)(I,{onClick:function(){J.current&&J.current.click()},children:[(0,T.jsx)(g.F,{width:"620px",height:"380px",children:(0,T.jsx)("img",{src:z||"/images/add-image-rectangle-00.png",alt:"경기장 이미지"})}),(0,T.jsx)("input",{id:"courtPhoto",type:"file",style:{display:"none"},ref:J,onChange:function(e){var t=e.target.files;if(t&&t.length>0){var a=t[0],i=new FileReader;i.readAsDataURL(a),i.onloadend=function(){$(i.result)},console.log(i),n("locationImg","".concat(i.result))}},accept:"image/*"})]})]}),(0,T.jsxs)(m.W,{children:[(0,T.jsx)("label",{htmlFor:"mainText",children:"본문 내용"}),(0,T.jsx)(D,_objectSpread({id:"mainText",onChange:function(e){return n("mainText",e.target.value)},placeholder:"내용을 입력하세요."},a("mainText")))]}),(0,T.jsx)(N,{colorstyle:"is-black",type:"submit",disabled:!(s("postTitle")&&s("matchType")&&s("numOfRecruited")&&s("selectedAge")&&s("selectedNTRP")&&s("matchDate")&&s("matchStartTime")&&s("matchEndTime")&&s("deadlineDate")&&s("deadlineTime")&&s("courtAddress")&&s("isCourtBooked")&&s("courtFee")&&s("mainText")),children:"등록하기"})]})]})}var y=d.ZP.div.withConfig({displayName:"edit-matching__PageTitleArea",componentId:"sc-12ugfkt-0"})(["margin:"," auto;"],(0,s.hO)("50px")),v=d.ZP.form.withConfig({displayName:"edit-matching__PostMatchingForm",componentId:"sc-12ugfkt-1"})(["display:flex;flex-direction:column;.input__InputBox-sc-w6l3ed-0{.text-align-right{text-align:right;}.select__CustomSelect-sc-10zdv74-0{margin-bottom:0px;}}"]),O=d.ZP.div.withConfig({displayName:"edit-matching__HalfContainer",componentId:"sc-12ugfkt-2"})(["display:flex;flex-direction:row;gap:",";.input__InputBox-sc-w6l3ed-0{width:100%;.text-align-right{text-align:right;}.select__CustomSelect-sc-10zdv74-0{margin-bottom:0px;}}"],(0,s.hO)("20px")),w=d.ZP.div.withConfig({displayName:"edit-matching__CourtFeeArea",componentId:"sc-12ugfkt-3"})(["position:relative;width:100%;"]),E=d.ZP.span.withConfig({displayName:"edit-matching__FeeForEachSpan",componentId:"sc-12ugfkt-4"})(["position:absolute;top:",";right:",";max-width:",";white-space:nowrap;overflow:hidden;font-family:",";color:",";"],(0,s.hO)("3px"),(0,s.hO)("5px"),(0,s.hO)("150px"),u.bH,u.Ie),N=(0,d.ZP)(p.h$).withConfig({displayName:"edit-matching__SubmitBtn",componentId:"sc-12ugfkt-5"})(["margin:"," 0px;"],(0,s.hO)("30px")),I=d.ZP.div.withConfig({displayName:"edit-matching__ImageSection",componentId:"sc-12ugfkt-6"})(["display:flex;justify-content:center;cursor:pointer;width:100%;min-height:fit-content;max-width:",";max-height:",";border:none;margin-bottom:",";img{width:100%;border-radius:5px;border:1px solid ",";background:",";overflow:hidden;}"],(0,s.hO)("620px"),(0,s.hO)("400px"),(0,s.hO)("30px"),u.B_,u._2),D=(0,d.ZP)(j.K).withConfig({displayName:"edit-matching__MainTextArea",componentId:"sc-12ugfkt-7"})(["max-width:",";height:",";"],(0,s.hO)("620px"),(0,s.hO)("400px")),P=d.ZP.input.withConfig({displayName:"edit-matching__HiddenInput",componentId:"sc-12ugfkt-8"})(["position:absolute;width:0px;height:0px;max-width:0px;max-height:0px;background-color:transparent;padding:0px;border:1px solid transparent;border-radius:0px;box-shadow:none;visibility:hidden;"])},4594:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/edit-matching",function(){return a(5002)}])}},function(e){e.O(0,[885,536,333,19,791,216,662,160,991,774,888,179],function(){return e(e.s=4594)}),_N_E=e.O()}]);